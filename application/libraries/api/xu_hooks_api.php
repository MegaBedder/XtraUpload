<?php  if (!defined('BASEPATH')) exit('No direct script access allowed');/** * XtraUpload * * A turn-key open source web 2.0 PHP file uploading package requiring PHP v5 * * @package		XtraUpload * @author		Matthew Glinski * @copyright	Copyright (c) 2006, XtraFile.com * @license		http://xtrafile.com/docs/license * @link		http://xtrafile.com * @since		Version 2.0 * @filesource */// ------------------------------------------------------------------------/** * XtraUpload XU_API Hooks Library * * @package		XtraUpload * @subpackage	Library * @category	Library * @author		Matthew Glinski * @link		http://xtrafile.com/docs/api/hooks */// ------------------------------------------------------------------------class Xu_hooks_api{	private $CI;	private $hooks = array();		public function __construct()	{		$this->CI =& get_instance();		log_message('debug', "XtraUpload Hooks API Class Initialized");	}	public function setHook($name, $function)	{		if(!isset($this->hooks[$name]))		{			$this->hooks[$name] = array();		}				$this->hooks[$name][] = $function;	}	public function runHooks($name, $args)	{		if(!isset($this->hooks[$name]) or !is_array($this->hooks[$name]) or empty($this->hooks[$name]))		{			return $args;			}		        // TODO: Rethink this operation.		foreach($this->hooks[$name] as $function)		{			$args = $function($args);		}		return $args;	}    /**     * Retrieve registered hooks.     *     * @return array     */    public function _getHooks()	{		return $this->hooks;	}    /**     * Override the internal array of hooks.     *     * @param array $hooks     */    public function _putHooks(array $hooks)	{		$this->hooks = $hooks;	}}